---
page_title: "Resource nexus_repository"
subcategory: "Other"
description: |-
  !> This resource is deprecated. Please use the resource "nexusrepository*" instead.
  Use this resource to create a Nexus Repository.
---
# Resource nexus_repository
!> This resource is deprecated. Please use the resource "nexus_repository_*" instead.

Use this resource to create a Nexus Repository.
## Example Usage
```terraform
resource "nexus_repository" "apt_hosted" {
  name   = "apt-repo"
  format = "apt"
  type   = "hosted"

  apt {
    distribution = "bionic"
  }

  apt_signing {
    keypair    = "<keypair>"
    passphrase = "<passphrase>"
  }

  storage {
    blob_store_name                = "default"
    strict_content_type_validation = true
    write_policy                   = "ALLOW_ONCE"
  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `format` (String) Repository format. Possible values: `apt`, `bower`, `conan`, `docker`, `gitlfs`, `go`, `helm`, `maven2`, `npm`, `nuget`, `p2`, `pypi`, `raw`, `rubygems`, `yum`
- `name` (String) A unique identifier for this repository
- `type` (String) Repository type. Possible values: `group`, `hosted`, `proxy`

### Optional

- `apt` (Block List) Apt specific configuration of the repository (see [below for nested schema](#nestedblock--apt))
- `apt_signing` (Block List) Apt signing configuration for the repository (see [below for nested schema](#nestedblock--apt_signing))
- `bower` (Block List) Bower specific configuration of the repository (see [below for nested schema](#nestedblock--bower))
- `cleanup` (Block List) Cleanup policies (see [below for nested schema](#nestedblock--cleanup))
- `docker` (Block List) Docker specific configuration of the repository (see [below for nested schema](#nestedblock--docker))
- `docker_proxy` (Block List, Max: 1) Configuration for docker proxy repository (see [below for nested schema](#nestedblock--docker_proxy))
- `group` (Block List, Max: 1) Configuration for repository group (see [below for nested schema](#nestedblock--group))
- `http_client` (Block List, Max: 1) HTTP Client configuration for proxy repositories. Required for docker proxy repositories. (see [below for nested schema](#nestedblock--http_client))
- `maven` (Block List, Max: 1) Maven specific configuration of the repository (see [below for nested schema](#nestedblock--maven))
- `negative_cache` (Block List, Max: 1) Configuration of the negative cache handling (see [below for nested schema](#nestedblock--negative_cache))
- `nuget_proxy` (Block List, Max: 1) Configuration for the nuget proxy repository (see [below for nested schema](#nestedblock--nuget_proxy))
- `online` (Boolean) Whether this repository accepts incoming requests
- `proxy` (Block List, Max: 1) Configuration for the proxy repository (see [below for nested schema](#nestedblock--proxy))
- `storage` (Block List, Max: 1) The storage configuration of the repository (see [below for nested schema](#nestedblock--storage))
- `yum` (Block List) Yum specific configuration of the repository (see [below for nested schema](#nestedblock--yum))

### Read-Only

- `id` (String) Used to identify resource at nexus

<a id="nestedblock--apt"></a>
### Nested Schema for `apt`

Required:

- `distribution` (String) The linux distribution

Optional:

- `flat` (Boolean) Whether this repository is flat


<a id="nestedblock--apt_signing"></a>
### Nested Schema for `apt_signing`

Required:

- `keypair` (String) PGP signing key pair (armored private key e.g. gpg --export-secret-key --armor )
- `passphrase` (String) Passphrase for the keypair


<a id="nestedblock--bower"></a>
### Nested Schema for `bower`

Optional:

- `rewrite_package_urls` (Boolean) Force Bower to retrieve packages through the proxy repository


<a id="nestedblock--cleanup"></a>
### Nested Schema for `cleanup`

Optional:

- `policy_names` (Set of String) List of policy names


<a id="nestedblock--docker"></a>
### Nested Schema for `docker`

Optional:

- `force_basic_auth` (Boolean) Whether to force authentication (Docker Bearer Token Realm required if false)
- `http_port` (Number) Create an HTTP connector at specified port
- `https_port` (Number) Create an HTTPS connector at specified port
- `v1enabled` (Boolean) Whether to allow clients to use the V1 API to interact with this repository


<a id="nestedblock--docker_proxy"></a>
### Nested Schema for `docker_proxy`

Required:

- `index_type` (String) Type of Docker Index

Optional:

- `index_url` (String) URL of Docker Index to use


<a id="nestedblock--group"></a>
### Nested Schema for `group`

Required:

- `member_names` (Set of String) Member repositories names


<a id="nestedblock--http_client"></a>
### Nested Schema for `http_client`

Optional:

- `authentication` (Block List, Max: 1) Authentication configuration of the HTTP client (see [below for nested schema](#nestedblock--http_client--authentication))
- `auto_block` (Boolean) Whether to auto-block outbound connections if remote peer is detected as unreachable/unresponsive
- `blocked` (Boolean) Whether to block outbound connections on the repository
- `connection` (Block List, Max: 1) Connection configuration of the HTTP client (see [below for nested schema](#nestedblock--http_client--connection))

<a id="nestedblock--http_client--authentication"></a>
### Nested Schema for `http_client.authentication`

Optional:

- `ntlm_domain` (String) The ntlm domain to connect
- `ntlm_host` (String) The ntlm host to connect
- `password` (String, Sensitive) The password used by the proxy repository
- `type` (String) Authentication type. Possible values: `ntlm`, `username` or `bearerToken`. Only npm supports bearerToken authentication
- `username` (String) The username used by the proxy repository


<a id="nestedblock--http_client--connection"></a>
### Nested Schema for `http_client.connection`

Optional:

- `enable_cookies` (Boolean) Whether to allow cookies to be stored and used
- `retries` (Number) Total retries if the initial connection attempt suffers a timeout
- `timeout` (Number) Seconds to wait for activity before stopping and retrying the connection
- `use_trust_store` (Boolean) Use certificates stored in the Nexus Repository Manager truststore to connect to external systems
- `user_agent_suffix` (String) Custom fragment to append to User-Agent header in HTTP requests



<a id="nestedblock--maven"></a>
### Nested Schema for `maven`

Optional:

- `layout_policy` (String) Validate that all paths are maven artifact or metadata paths. Possible values: `PERMISSIVE` or `STRICT`
- `version_policy` (String) What type of artifacts does this repository store? Possible values: `RELEASE`, `SNAPSHOT` or `MIXED`


<a id="nestedblock--negative_cache"></a>
### Nested Schema for `negative_cache`

Optional:

- `enabled` (Boolean) Whether to cache responses for content not present in the proxied repository
- `ttl` (Number) How long to cache the fact that a file was not found in the repository (in minutes)


<a id="nestedblock--nuget_proxy"></a>
### Nested Schema for `nuget_proxy`

Required:

- `query_cache_item_max_age` (Number) What type of artifacts does this repository store

Optional:

- `nuget_version` (String) Nuget protocol version. Possible values: `V2` or `V3` (Default)


<a id="nestedblock--proxy"></a>
### Nested Schema for `proxy`

Optional:

- `content_max_age` (Number) How long (in minutes) to cache artifacts before rechecking the remote repository
- `metadata_max_age` (Number) How long (in minutes) to cache metadata before rechecking the remote repository.
- `remote_url` (String) Location of the remote repository being proxied


<a id="nestedblock--storage"></a>
### Nested Schema for `storage`

Optional:

- `blob_store_name` (String) Blob store used to store repository contents
- `strict_content_type_validation` (Boolean) Whether to validate uploaded content's MIME type appropriate for the repository format
- `write_policy` (String) Controls if deployments of and updates to assets are allowed. Possible values: `ALLOW`, `ALLOW_ONCE`, `DENY`


<a id="nestedblock--yum"></a>
### Nested Schema for `yum`

Required:

- `deploy_policy` (String) Validate that all paths are RPMs or yum metadata. Possible values: `STRICT` or `PERMISSIVE`

Optional:

- `repodata_depth` (Number) Specifies the repository depth where repodata folder(s) are created. Possible values: 0-5
## Import
Import is supported using the following syntax:
```shell
# import using the name of repository
terraform import nexus_repository.apt_hosted apt-repo
```
